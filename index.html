<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Introdu√ß√£o √† IA e Tutoriais Pr√°ticos</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    :root {
      --primary: #4f46e5;
      --primary-dark: #3730a3;
      --gemini-color: #60a5fa;
      --chatgpt-color: #4ade80;
      --bg: #0f172a;
      --bg-soft: #111827;
      --card: #020617;
      --text: #e5e7eb;
      --text-muted: #9ca3af;
      --accent: #22c55e;
      --danger: #ef4444;
      --border-radius: 12px;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #1e293b, #020617);
      color: var(--text);
      line-height: 1.6;
      padding: 0;
      margin: 0;
    }

    /* --- Header --- */
    header {
      background: linear-gradient(135deg, #4f46e5, #22c55e);
      color: #f9fafb;
      padding: 2rem 1.5rem;
      text-align: center;
      position: sticky;
      top: 0;
      z-index: 100;
      box-shadow: 0 4px 20px rgba(0,0,0,0.4);
    }

    header h1 {
      font-size: clamp(1.8rem, 3vw, 2.4rem);
      margin-bottom: 0.75rem;
    }

    header p {
      font-size: 0.95rem;
      opacity: 0.95;
      max-width: 600px;
      margin: 0 auto;
    }

    /* --- Layout Principal --- */
    main {
      max-width: 1100px;
      margin: 1.5rem auto 2rem;
      padding: 0 1rem 2rem;
    }

    section {
      background: rgba(15, 23, 42, 0.6);
      border-radius: var(--border-radius);
      padding: 1.5rem;
      margin-bottom: 1.5rem;
      border: 1px solid rgba(148, 163, 184, 0.1);
      backdrop-filter: blur(12px);
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    }

    section h2 {
      font-size: 1.4rem;
      margin-bottom: 1rem;
      color: #fff;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      border-bottom: 1px solid rgba(255,255,255,0.1);
      padding-bottom: 0.5rem;
    }

    section h2 span.icon {
      font-size: 1.5rem;
    }

    p {
      font-size: 1rem;
      margin-bottom: 0.8rem;
      color: #cbd5e1;
    }

    ul {
      margin-left: 1.5rem;
      margin-bottom: 1rem;
      color: #cbd5e1;
    }

    li {
      margin-bottom: 0.4rem;
    }

    /* --- Grid e Componentes Gerais --- */
    .grid-2 {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 1.5rem;
    }

    .highlight {
      color: #bfdbfe;
      font-weight: 600;
    }

    /* --- Tags e Chips --- */
    .companies-tags, .chips {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-top: 1rem;
    }

    .company-tag, .chip {
      padding: 0.3rem 0.8rem;
      border-radius: 999px;
      font-size: 0.85rem;
      background: rgba(30, 41, 59, 0.5);
      border: 1px solid rgba(148, 163, 184, 0.2);
      color: #e2e8f0;
      display: inline-flex;
      align-items: center;
    }

    .company-tag span {
      font-size: 0.75rem;
      opacity: 0.6;
      margin-left: 0.4rem;
      padding-left: 0.4rem;
      border-left: 1px solid rgba(255,255,255,0.2);
    }

    /* --- Gr√°fico --- */
    .chart-container {
      position: relative;
      width: 100%;
      height: 220px;
      background: radial-gradient(circle at top, #0b1120, #020617);
      border-radius: 10px;
      border: 1px solid rgba(148, 163, 184, 0.2);
      padding: 1rem;
    }
    .chart-labels {
      display: flex;
      justify-content: space-between;
      font-size: 0.75rem;
      color: var(--text-muted);
      margin-top: 0.5rem;
    }

    /* --- Prompts Box (Estilo Unificado) --- */
    .prompt-box {
      background: #0b1121;
      border-radius: 10px;
      border: 1px solid rgba(148, 163, 184, 0.15);
      padding: 1rem;
      margin-bottom: 1rem;
      position: relative;
    }

    .prompt-title {
      font-size: 0.85rem;
      color: var(--text-muted);
      margin-bottom: 0.5rem;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      font-weight: 600;
    }

    .prompt-text {
      font-family: "Consolas", "Monaco", "Courier New", monospace;
      font-size: 0.9rem;
      background: rgba(0, 0, 0, 0.3);
      padding: 0.8rem;
      border-radius: 6px;
      border: 1px dashed rgba(148, 163, 184, 0.3);
      color: #a5b4fc;
      line-height: 1.5;
      white-space: pre-wrap;
    }

    .copy-btn {
      position: absolute;
      top: 1rem;
      right: 1rem;
      font-size: 0.75rem;
      padding: 0.3rem 0.8rem;
      border-radius: 6px;
      border: 1px solid rgba(148, 163, 184, 0.4);
      background: rgba(30, 41, 59, 0.8);
      color: #e5e7eb;
      cursor: pointer;
      transition: all 0.2s ease;
      font-weight: 500;
    }

    .copy-btn:hover {
      background: var(--primary);
      border-color: var(--primary);
      color: white;
    }

    .copy-btn.copied {
      background: var(--accent);
      border-color: var(--accent);
      color: #064e3b;
    }

    /* --- Info Box --- */
    .info-box {
      background: rgba(30, 58, 138, 0.15);
      border-left: 4px solid var(--primary);
      border-radius: 0 8px 8px 0;
      padding: 1rem;
      font-size: 0.95rem;
      margin-top: 1rem;
    }
    .info-box strong { color: #a5b4fc; }

    /* --- Estilos Espec√≠ficos do Tutorial (Abas) --- */
    .tutorial-tabs {
      display: flex;
      background: rgba(0, 0, 0, 0.2);
      border-radius: 8px;
      margin-bottom: 1.5rem;
      padding: 4px;
      border: 1px solid rgba(255,255,255,0.05);
    }

    .tab {
      flex: 1;
      padding: 12px;
      text-align: center;
      font-weight: 600;
      cursor: pointer;
      border-radius: 6px;
      transition: all 0.3s ease;
      color: var(--text-muted);
      font-size: 0.95rem;
    }

    .tab:hover {
      background: rgba(255,255,255,0.05);
      color: #fff;
    }

    .tab.active-gemini {
      background: rgba(37, 99, 235, 0.15);
      color: var(--gemini-color);
      box-shadow: 0 0 0 1px rgba(37, 99, 235, 0.3);
    }

    .tab.active-chatgpt {
      background: rgba(22, 163, 74, 0.15);
      color: var(--chatgpt-color);
      box-shadow: 0 0 0 1px rgba(22, 163, 74, 0.3);
    }

    .tutorial-content {
      display: none;
      animation: fadeIn 0.4s ease-out;
    }
    .tutorial-content.active { display: block; }

    .step {
      margin-bottom: 1.5rem;
      padding-left: 1.5rem;
      border-left: 3px solid #334155;
    }
    .highlight-gemini .step { border-left-color: var(--gemini-color); }
    .highlight-chatgpt .step { border-left-color: var(--chatgpt-color); }

    .step-title {
      font-weight: 700;
      font-size: 1.1rem;
      display: block;
      margin-bottom: 0.5rem;
      color: #f1f5f9;
    }

    /* --- Quiz --- */
    .quiz-question {
      background: rgba(30, 41, 59, 0.4);
      padding: 1rem;
      border-radius: 8px;
      margin-bottom: 1rem;
      border: 1px solid rgba(255,255,255,0.05);
    }
    .quiz-options label {
      display: block;
      margin: 0.5rem 0;
      cursor: pointer;
      padding: 0.5rem;
      border-radius: 6px;
      transition: background 0.2s;
    }
    .quiz-options label:hover {
      background: rgba(255,255,255,0.05);
    }
    .btn {
      padding: 0.6rem 1.2rem;
      border-radius: 999px;
      border: none;
      background: var(--primary);
      color: white;
      font-weight: 600;
      cursor: pointer;
      transition: transform 0.2s;
    }
    .btn:hover { background: var(--primary-dark); transform: translateY(-2px); }
    .btn:disabled { opacity: 0.6; cursor: not-allowed; transform: none; }
    
    .score { margin-left: 1rem; font-weight: bold; color: var(--accent); }
    .answers span { display: inline-block; margin: 0.2rem; padding: 0.2rem 0.6rem; background: rgba(0,0,0,0.3); border-radius: 4px; font-size: 0.85rem; }
    .correct { color: #4ade80; }
    .incorrect { color: #f87171; }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(5px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @media (max-width: 768px) {
      .grid-2 { grid-template-columns: 1fr; }
      header { padding: 1.5rem 1rem; }
      section { padding: 1.2rem; }
    }
  </style>
</head>
<body>

<header>
  <h1>IA na Pr√°tica & Tutoriais</h1>
  <p>Conceitos fundamentais, exemplos de uso e um tutorial passo a passo para transformar caligrafia com Intelig√™ncia Artificial.</p>
</header>

<main>
  <!-- Se√ß√£o 1: O que √© IA -->
  <section id="o-que-e-ia">
    <h2><span class="icon">ü§ñ</span>O que √© Intelig√™ncia Artificial?</h2>
    <p>De forma simples, Intelig√™ncia Artificial √© uma √°rea da computa√ß√£o que cria sistemas capazes de realizar tarefas que normalmente exigem intelig√™ncia humana, como reconhecer padr√µes, tomar decis√µes e gerar conte√∫do.</p>
    <p>Esses sistemas usam <span class="highlight">algoritmos</span> e grandes volumes de dados para aprender com exemplos em vez de receber instru√ß√µes r√≠gidas para cada situa√ß√£o.</p>
  </section>

  <!-- Se√ß√£o 2: Como funciona -->
  <section id="como-funciona">
    <h2><span class="icon">üß†</span>Como funciona uma IA</h2>
    <div class="grid-2">
      <div>
        <p>O funcionamento moderno de IA, especialmente em modelos generativos, passa por tr√™s fases principais:</p>
        <ul>
          <li><strong>Coleta de dados:</strong> textos, imagens, √°udios ou registros hist√≥ricos.</li>
          <li><strong>Treinamento:</strong> o algoritmo ajusta milh√µes de par√¢metros para reduzir erros.</li>
          <li><strong>Infer√™ncia:</strong> o modelo treinado responde e cria a partir de novas entradas.</li>
        </ul>
        <p>Na pr√°tica, voc√™ conversa com um modelo j√° treinado e guia o comportamento dele com bons prompts (Engenharia de Prompt).</p>
      </div>
      <div>
        <!-- Gr√°fico Visual Simplificado com CSS/HTML para leveza -->
        <div class="chart-container" style="display:flex; align-items:flex-end; justify-content:space-around; padding-bottom:30px;">
             <!-- Barras simuladas -->
             <div style="width:10%; height:20%; background:#3730a3; border-radius:4px 4px 0 0;"></div>
             <div style="width:10%; height:35%; background:#4338ca; border-radius:4px 4px 0 0;"></div>
             <div style="width:10%; height:50%; background:#4f46e5; border-radius:4px 4px 0 0;"></div>
             <div style="width:10%; height:75%; background:#6366f1; border-radius:4px 4px 0 0;"></div>
             <div style="width:10%; height:90%; background:#818cf8; border-radius:4px 4px 0 0; position:relative;">
                <span style="position:absolute; top:-25px; left:-10px; font-size:0.7rem; color:#fff; width:60px;">Hoje</span>
             </div>
        </div>
        <div class="chart-labels">
          <span>1950 (In√≠cio)</span>
          <span>Evolu√ß√£o Exponencial da IA</span>
          <span>Futuro</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Se√ß√£o 3: Tutorial Pr√°tico (Novo Conte√∫do) -->
  <section id="tutorial-caligrafia" style="border: 1px solid rgba(96, 165, 250, 0.3);">
    <h2><span class="icon">‚úçÔ∏è</span>Tutorial: Caligrafia Profissional com IA</h2>
    <p>Aprenda a transformar fotos de cadernos com letra "feia" em resumos esteticamente perfeitos usando o Gemini ou ChatGPT.</p>
    
    <div class="tutorial-tabs">
        <div class="tab active-gemini" onclick="openTab('gemini')">Usando Gemini (Google)</div>
        <div class="tab" onclick="openTab('chatgpt')">Usando ChatGPT (OpenAI)</div>
    </div>

    <!-- Conte√∫do Gemini -->
    <div id="gemini" class="tutorial-content active highlight-gemini">
        <div class="step">
            <span class="step-title">1. Enviar o Material</span>
            <p>No Gemini, clique no √≠cone de <strong>+ (Adicionar)</strong> e fa√ßa o upload da foto do seu caderno ou arquivo PDF que deseja resumir.</p>
        </div>

        <div class="step">
            <span class="step-title">2. Transformar em Texto</span>
            <div class="prompt-box">
                <div class="prompt-title">Prompt de Texto</div>
                <button class="copy-btn" data-target="p-gemini-1">Copiar</button>
                <div class="prompt-text" id="p-gemini-1">Reescreva isso em anota√ß√µes de estudo claras e concisas para as provas.</div>
            </div>
        </div>

        <div class="step">
            <span class="step-title">3. Gerar a Imagem do Caderno</span>
            <p>Ap√≥s a IA gerar o texto, pe√ßa para criar a imagem simulando um caderno:</p>
            <div class="prompt-box">
                <div class="prompt-title">Prompt de Imagem</div>
                <button class="copy-btn" data-target="p-gemini-2">Copiar</button>
                <div class="prompt-text" id="p-gemini-2">Crie um resumo manuscrito sobre [INSIRA SEU T√ìPICO AQUI]. Use uma fonte de caligrafia estudantil em papel pautado. Use o marcador amarelo neon para destacar os termos importantes para revis√£o e circule datas importantes em vermelho. Adicione pequenos desenhos para explicar melhor os conceitos. Em uma folha A4 (vertical).</div>
            </div>
        </div>
    </div>

    <!-- Conte√∫do ChatGPT -->
    <div id="chatgpt" class="tutorial-content highlight-chatgpt">
        <div class="step">
            <span class="step-title">1. Enviar o Material</span>
            <p>No ChatGPT, use o √≠cone de <strong>clipe</strong> para anexar sua imagem ou PDF.</p>
        </div>

        <div class="step">
            <span class="step-title">2. Transformar em Texto</span>
            <div class="prompt-box">
                <div class="prompt-title">Prompt de Texto</div>
                <button class="copy-btn" data-target="p-gpt-1">Copiar</button>
                <div class="prompt-text" id="p-gpt-1">Reescreva isso em anota√ß√µes de estudo claras e concisas para as provas.</div>
            </div>
        </div>

        <div class="step">
            <span class="step-title">3. Gerar a Imagem (DALL-E)</span>
            <div class="prompt-box">
                <div class="prompt-title">Prompt de Imagem</div>
                <button class="copy-btn" data-target="p-gpt-2">Copiar</button>
                <div class="prompt-text" id="p-gpt-2">Crie um resumo manuscrito sobre [INSIRA SEU T√ìPICO AQUI]. Use uma fonte de caligrafia estudantil em papel pautado. Use o marcador amarelo neon para destacar os termos importantes para revis√£o e circule datas importantes em vermelho. Adicione pequenos desenhos para explicar melhor os conceitos. Em uma folha A4 (vertical).</div>
            </div>
        </div>
    </div>
    
    <div class="info-box">
        <strong>Nota:</strong> A gera√ß√£o de imagens requer vers√µes avan√ßadas (Gemini Advanced ou ChatGPT Plus/4o). N√£o se esque√ßa de substituir <em>[INSIRA SEU T√ìPICO AQUI]</em> pelo assunto real. <br><small>Cr√©ditos do m√©todo: Canal Onde eu Clico.</small>
    </div>
  </section>

  <!-- Se√ß√£o 4: Outros Prompts √öteis -->
  <section id="prompts">
    <h2><span class="icon">‚å®Ô∏è</span>Outros Prompts Pr√°ticos</h2>
    <p>Exemplos gerais para professores e profissionais.</p>

    <div class="prompt-box">
      <div class="prompt-title">Planejamento de Aula</div>
      <button class="copy-btn" data-target="prompt-aula">Copiar</button>
      <div class="prompt-text" id="prompt-aula">Voc√™ √© um professor especialista em tecnologia. Crie um plano de aula de 1h30 sobre Intelig√™ncia Artificial para iniciantes, incluindo: objetivos, t√≥picos principais, exemplos pr√°ticos e 5 exerc√≠cios.</div>
    </div>

    <div class="prompt-box">
      <div class="prompt-title">An√°lise de Dados com @</div>
      <button class="copy-btn" data-target="prompt-analise">Copiar</button>
      <div class="prompt-text" id="prompt-analise">Analise este arquivo @planilha_resultados e este documento @relatorio. Resuma os principais problemas e crie um plano de a√ß√£o em 5 passos.</div>
    </div>
  </section>

  <!-- Se√ß√£o 5: Quiz -->
  <section id="quiz">
    <h2><span class="icon">‚úÖ</span>Quiz Interativo</h2>
    <p>Teste seu conhecimento sobre IA com 10 perguntas. (A cada acesso, algumas mudam!).</p>
    <div id="quiz-container"></div>
    
    <div style="margin-top:1.5rem; display:flex; align-items:center; gap:1rem;">
        <button id="calc-btn" class="btn">Calcular Nota</button>
        <span class="score" id="score"></span>
    </div>
    <div class="answers" id="answers" style="margin-top:1rem;"></div>
  </section>

</main>

<footer>
  <p>P√°gina criada para fins educacionais | Unindo conceitos de IA e Pr√°tica.</p>
</footer>

<script>
  /* --- L√≥gica das Abas do Tutorial --- */
  function openTab(tabName) {
      // Remove classes ativas de conte√∫dos e abas
      document.querySelectorAll('.tutorial-content').forEach(c => c.classList.remove('active'));
      document.querySelectorAll('.tab').forEach(t => {
          t.classList.remove('active-gemini', 'active-chatgpt');
      });

      // Ativa conte√∫do
      document.getElementById(tabName).classList.add('active');

      // Ativa estilo da aba
      const clickedTab = document.querySelector(`.tab[onclick="openTab('${tabName}')"]`);
      if (tabName === 'gemini') {
          clickedTab.classList.add('active-gemini');
      } else {
          clickedTab.classList.add('active-chatgpt');
      }
  }

  /* --- L√≥gica de C√≥pia (Unificada) --- */
  document.querySelectorAll('.copy-btn').forEach(btn => {
    btn.addEventListener('click', async () => {
      const targetId = btn.getAttribute('data-target');
      const el = document.getElementById(targetId);
      if (!el) return;
      
      const text = el.innerText || el.textContent; // Pega texto puro
      try {
        await navigator.clipboard.writeText(text);
        
        // Feedback visual
        const originalText = btn.textContent;
        btn.classList.add('copied');
        btn.textContent = 'Copiado!';
        
        setTimeout(() => {
          btn.classList.remove('copied');
          btn.textContent = originalText;
        }, 2000);
      } catch (err) {
        alert('Erro ao copiar. Tente selecionar manualmente.');
      }
    });
  });

  /* --- L√≥gica do Quiz --- */
  (function () {
    const questionBank = [
      { text: 'O que √© IA Generativa?', options: ['IA que s√≥ analisa n√∫meros', 'IA capaz de criar novos conte√∫dos (texto, imagem)', 'Um rob√¥ aspirador', 'Um banco de dados fixo'], correct: 1 },
      { text: 'Qual o papel do treinamento na IA?', options: ['Limpar o computador', 'Ajustar par√¢metros com base em exemplos', 'Criar hardware novo', 'Formatar o texto'], correct: 1 },
      { text: 'O que √© um Prompt?', options: ['O comando dado √† IA', 'O nome do processador', 'Um erro de sistema', 'Uma linguagem de programa√ß√£o'], correct: 0 },
      { text: 'O Gemini √© desenvolvido por qual empresa?', options: ['OpenAI', 'Microsoft', 'Google', 'Apple'], correct: 2 },
      { text: 'O ChatGPT √© conhecido por:', options: ['Ser um modelo de linguagem natural', 'Ser apenas um buscador antigo', 'N√£o entender portugu√™s', 'Funcionar apenas offline'], correct: 0 },
      { text: 'O que significa infer√™ncia?', options: ['O momento de aprendizado', 'O uso do modelo j√° treinado para responder', 'Desligar a IA', 'Conectar na internet'], correct: 1 },
      { text: 'Qual setor usa IA para diagn√≥sticos?', options: ['Sa√∫de', 'Padaria (apenas)', 'Nenhum', 'Setor de M√°quinas de Escrever'], correct: 0 },
      { text: 'O que √© Intelig√™ncia Artificial em termos gerais?', options: ['Um conjunto de regras fixas', 'Sistemas que realizam tarefas que exigiriam intelig√™ncia humana', 'Rob√¥s f√≠sicos apenas', 'Programas de xadrez apenas'], correct: 1 },
      { text: 'Por que dados s√£o importantes para a IA?', options: ['Substituem algoritmos', 'Sem dados o modelo n√£o aprende padr√µes', 'Para backup apenas', 'Deixam o PC mais r√°pido'], correct: 1 },
      { text: 'Qual vantagem de dominar poucas ferramentas de IA?', options: ['Reduz necessidade de programa√ß√£o', 'Gera resultados mais consistentes e aplic√°veis', 'Evita erros do modelo', 'Elimina revis√£o'], correct: 1 },
      { text: 'Qual destas √© uma "Big Tech" focada em IA?', options: ['Microsoft', 'Uma loja local', 'Um blog pessoal', 'Uma f√°brica de papel'], correct: 0 },
      { text: 'Para que serve o @ em prompts?', options: ['Decorar o texto', 'Referenciar arquivos ou conectar ferramentas', 'Aumentar a nota', 'Deixar mais r√°pido'], correct: 1 },
      { text: 'A curva de aprendizado da IA moderna tende a ser:', options: ['Linear e lenta', 'Exponencial ap√≥s certo ponto', 'Decrescente', 'Est√°tica'], correct: 1 },
      { text: 'Qual o papel do humano ao usar IA?', options: ['Ser substitu√≠do totalmente', 'Guiar, validar e aplicar os resultados', 'N√£o usar tecnologia', 'Apenas imprimir'], correct: 1 },
      { text: 'Exemplo de IA na educa√ß√£o:', options: ['Tocar m√∫sica no recreio', 'Gerar planos de aula personalizados', 'Apagar quadro', 'Ligar projetor'], correct: 1 },
      { text: 'Por que revisar respostas da IA?', options: ['Porque ela nunca erra', 'Porque pode "alucinar" ou ser imprecisa', 'O computador exige', 'Para gastar tempo'], correct: 1 },
      { text: 'IA ajuda na an√°lise de dados ao:', options: ['Ignorar n√∫meros', 'Encontrar padr√µes em grandes volumes', 'Apagar planilhas', 'Somar apenas 1+1'], correct: 1 }
    ];

    const QUIZ_KEY = 'quiz_data_v2';
    const TOTAL_QUESTIONS = 10;
    const SWAP_COUNT = 4; // 40% de 10

    function getRandomQuestions(source, count) {
        return [...source].sort(() => 0.5 - Math.random()).slice(0, count);
    }

    function loadOrGenerateQuestions() {
        let questions = [];
        const stored = localStorage.getItem(QUIZ_KEY);

        if (stored) {
            try {
                questions = JSON.parse(stored);
            } catch(e) { questions = []; }
        }

        // Se n√£o houver perguntas salvas ou a quantidade estiver errada (ex: mudou de 5 pra 10)
        if (!Array.isArray(questions) || questions.length !== TOTAL_QUESTIONS) {
            questions = getRandomQuestions(questionBank, TOTAL_QUESTIONS);
        } else {
            // L√≥gica de rota√ß√£o de 40%
            // 1. Achar quais perguntas do banco N√ÉO est√£o no quiz atual
            const currentTexts = new Set(questions.map(q => q.text));
            const reserveBank = questionBank.filter(q => !currentTexts.has(q.text));

            // 2. Pegar 4 novas do banco de reserva
            const safeSwapCount = Math.min(SWAP_COUNT, reserveBank.length);
            if (safeSwapCount > 0) {
                const newOnes = getRandomQuestions(reserveBank, safeSwapCount);
                // Substituir as primeiras N posi√ß√µes (j√° que depois vamos embaralhar tudo)
                for(let i=0; i < safeSwapCount; i++) {
                    questions[i] = newOnes[i];
                }
            }
            
            // 3. Reembaralhar tudo para as novas n√£o ficarem sempre no topo
            questions.sort(() => 0.5 - Math.random());
        }

        localStorage.setItem(QUIZ_KEY, JSON.stringify(questions));
        return questions;
    }

    const quizContainer = document.getElementById('quiz-container');
    const questions = loadOrGenerateQuestions();

    // Renderiza
    quizContainer.innerHTML = '';
    questions.forEach((q, index) => {
        const qDiv = document.createElement('div');
        qDiv.className = 'quiz-question';
        
        const title = document.createElement('p');
        title.innerHTML = `<strong>${index + 1}.</strong> ${q.text}`;
        qDiv.appendChild(title);

        const optsDiv = document.createElement('div');
        optsDiv.className = 'quiz-options';

        q.options.forEach((opt, i) => {
            const label = document.createElement('label');
            const input = document.createElement('input');
            input.type = 'radio';
            input.name = `q-${index}`;
            input.value = i;
            
            label.appendChild(input);
            label.appendChild(document.createTextNode(` ${opt}`));
            optsDiv.appendChild(label);
        });
        
        qDiv.appendChild(optsDiv);
        quizContainer.appendChild(qDiv);
    });

    // Calcular
    const calcBtn = document.getElementById('calc-btn');
    calcBtn.addEventListener('click', function() {
        let score = 0;
        const details = [];
        
        questions.forEach((q, index) => {
            const selected = document.querySelector(`input[name="q-${index}"]:checked`);
            if (selected && parseInt(selected.value) === q.correct) {
                score++;
                details.push(`<span class="correct">Q${index+1} ‚úî</span>`);
            } else {
                details.push(`<span class="incorrect">Q${index+1} ‚úñ</span>`);
            }
        });

        document.getElementById('score').innerText = `${score} / ${TOTAL_QUESTIONS} Acertos`;
        document.getElementById('answers').innerHTML = details.join(' ');
        
        // Desativar bot√£o
        this.disabled = true;
        this.innerText = "Nota Calculada";
        this.style.cursor = "default";
        this.style.opacity = "0.7";
    });
  })();
</script>

</body>
</html>
